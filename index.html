<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <style>
      /* Container */
.mainblock{
  background-image:linear-gradient(to bottom,#aa86b1 , #bb6a90b7,rgb(153, 60, 133));
}
.container {
    margin: auto;
    width: 50%;
    padding: 45px;
    background-image: linear-gradient(to bottom ,#c33764,#1d2671);  }
  
  /* Header */
  header {
    text-align: center;
    margin-bottom: 20px;
  }
  
  h1 {
    font-size: 36px;
    margin-bottom: 10px;
  }
  
  /* Form */
  .form {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
  }
  
  .form h3 {
    font-size: 24px;
    margin-top: 30px;
    margin-bottom: 15px;
  }
  
  /* Input Boxes */
  .input-box {
    width: 100%;
    margin-bottom: 20px;
  }
  
  label {
    display: block;
    font-size: 16px;
    margin-bottom: 5px;
  }
  
  input[type="text"],
  input[type="number"],
  input[type="email"],
  input[type="tel"],
  

  select,
  textarea {
    width: 100%;
    padding: 10px;
    border-radius: 15px;
    border: 1px solid #ccc;
    font-size: 16px;
    margin-top: 5px;
    margin-bottom: 10px;
  }
  
  select {
    cursor: pointer;
  }
  
  textarea {
    height: 100px;
  }
  
  /* Diabetes select box */
  .diabetes-box {
    margin-bottom: 20px;
  }
  
  /* Allergy options */
  .allergy-options {
    display: flex;
    flex-wrap: wrap;
  }
  
  .allergy {
    margin-right: 20px;
  }
  
  /* Gender radio group */
  .radio-group {
    display: flex;
    margin-top: 5px;
  }
  
  .radio-group label {
    margin-right: 10px;
  }
  
  /* Reason select box and other input */
  #other-input {
    margin-top: 10px;
  }
  
  #other-reason {
    width: 100%;
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #ccc;
    font-size: 16px;
    margin-top: 5px;
    margin-bottom: 10px;
    display: none;
  }
  
  /* Submit button */
  .button{
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 15px;
    padding: 5px 2px;
    font-size: 16px;
    cursor: pointer;
    text-align: center;
    margin:auto;

    width:25%;
  }
  
  .button:hover {
    background-color: #45a049;
  }
  
  /* Validation Error Messages */
  .error {
    color: red;
    font-size: 14px;
    margin-top: 5px;
  }

  .alert{
    width: 100%;
    border-radius: 15px;
    background: rgb(7, 124, 56);
    padding: 10px 20px;
    border-radius: 5px;
    text-align: center;
    font-size: 18px;
    font-weight: 900;
    display: none;
}
  
  /* Responsive design for smaller screens */
  @media screen and (max-width: 768px) {
    .container {
      width: 100%;
    }
    .input-box {
      width: 48%;
    }
  }

    </style>
    <title>Registration Form in HTML CSS</title>
  </head>
  <body class="mainblock">
    <section class="container">
      <header><h1>Akatsuki Hospitals</h1></header>
      <form action="#"id="medvaultform" class="form">
        <div class="alert">Response submitted</div>
        <h3>Patient Information</h3>
        <div class="column">
        <div class="input-box">
          <label>Full Name</label>
          <input type="text" id="name" placeholder="Enter full name" required />
        </div>

        <div class="input-box">
          <label>Email Address</label>
          <input type="text" id="email" placeholder="Enter email address" required />
        </div>

          <div class="input-box">
            <label>Phone Number</label>
            <input type="number" id="number" placeholder="Enter phone number" required />
          </div>
          <div class="input-box">
            <label>Birth Date</label>
            <input type="date" id="birthdate" placeholder="Enter birth date" required />
          </div>
          
          <div>
            <label for="blood-group">Blood Group:</label>
            <select id="blood-group" name="blood-group">
              <option value="">Select a blood group</option>
              <option value="A+">A+</option>
              <option value="A-">A-</option>
              <option value="B+">B+</option>
              <option value="B-">B-</option>
              <option value="AB+">AB+</option>
              <option value="AB-">AB-</option>
              <option value="O+">O+</option>
              <option value="O-">O-</option>
            </select>
          </div>
          <div class="diabetes-box">
            <label for="diabetes">Do you have Diabetes?</label>
            <select id="diabetes" name="diabetes">
              <option value="yes">Yes</option>
              <option value="no">No</option>
            </select>
          </div>
          <div class="input-box">
            <label>Known Allergies</label>
            <div class="allergy-options">
              <div class="allergy">
                <input type="checkbox" id="check-penicillin" name="penicillin" />
                <label for="check-penicillin">Penicillin</label>
              </div>
              <div class="allergy">
                <input type="checkbox" id="check-sulfa" name="sulfa" />
                <label for="check-sulfa">Sulfa</label>
              </div>
              <div class="allergy">
                <input type="checkbox" id="check-shellfish" name="shellfish" />
                <label for="check-shellfish">Shellfish</label>
              </div>
              <div class="allergy">
                <input type="checkbox" id="check-peanuts" name="peanuts" />
                <label for="check-peanuts">Peanuts</label>
              </div>
            </div>
          </div>
          <div class="gender">
            <label>Gender:</label>
            <div class="radio-group">
              <label><input type="radio" id="male" name="gender" value="male"> Male</label>
              <label><input type="radio" id="female" name="gender" value="female"> Female</label>
              <label><input type="radio" id="other" name="gender" value="other"> Other</label>
            </div>
          </div>
          <div class="input-box">
            <label>Reason for Admission</label>
            <select id="reason-select" onchange="showOtherInput()">
              <option value="">Select reason for admission</option>
              <option value="c-section">C-Section</option>
              <option value="heart-problem">Heart Problem</option>
              <option value="cancer">Cancer Treatment</option>
              <option value="injury">Injury</option>
              <option value="other">Other</option>
            </select>
            <div id="other-input" style="display:none">
              <input type="text" id="other-reason" placeholder="Please specify" />
            </div>
          </div>
          
          <script>
            function showOtherInput() {
              var selectBox = document.getElementById("reason-select");
              var otherInput = document.getElementById("other-input");
              if (selectBox.value == "other") {
                otherInput.style.display = "block";
              } else {
                otherInput.style.display = "none";
              }
            }
          </script>

        <div class="emergency-contact">
          <h3>Emergency Contact Information</h3>
          <div class="input-box">
            <label for="emergency-name">Name</label>
            <input type="text" id="emergency-name" placeholder="Enter name" required>
          </div>
          <div class="input-box">
            <label for="emergency-phone">Phone Number</label>
            <input type="tel" id="emergency-phone" placeholder="Enter phone number" required>
          </div>

          <div class="input-box">
            <label for="emergency-relationship">Relationship</label>
            <input type="text" id="emergency-relationship" placeholder="Enter relationship" required>
          </div>
        </div>
        
        <div class="input-box address">
          <label>Address</label>
          <input type="text" id="street1" placeholder="Enter street address" required />
          <input type="text" id="street2" placeholder="Enter street address line 2" required />
            <div class="select-box">
              <select id="country">
                <option hidden>Country</option>
                <option>America</option>
                <option>Japan</option>
                <option>India</option>
                <option>Nepal</option>
              </select>
            </div>
            <input type="text" id="city" placeholder="Enter your city" required />
            <input type="text" id="region" placeholder="Enter your region" required />
            <input type="number" id="postalcode" placeholder="Enter postal code" required />
          </div>
        <div class="input-box button">
          <button class="button" type="submit">submit</button>
        </div>
        </div>
      <form></section>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase.js"></script>
        
        <script>
 const firebaseConfig = {
    apiKey: "AIzaSyA3qkq90Vsn1rDKJM6YA3CBLQrruxU8kFA",
    authDomain: "medvault-1c694.firebaseapp.com",
    databaseURL: "https://medvault-4e10b-default-rtdb.firebaseio.com/",
    projectId: "medvault-1c694",
    storageBucket: "medvault-1c694.appspot.com",
    messagingSenderId: "904852095096",
    appId: "1:904852095096:web:3ae34ea2aa2b8396496d8d",
    measurementId: "G-6S2C2E0QMG"
  };


  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
 //reference your database  
var medvaultformDB=firebase.database().ref("Medvault-form");
document.getElementById("medvaultform").addEventListener("submit",submitForm);
function submitForm(e){
    e.preventDefault();
    var name=getelementval("name");
    var emailid=getelementval("email");
    var number=getelementval("number");
    var birthdate=getelementval("birthdate");
    var bloodgroup=getelementval("blood-group");
    var diabetes=getelementval("diabetes");
    var allergy=getelementval("check-penicillin");
    var allergy=getelementval("check-sulfa");
    var allergy=getelementval("check-shellfish");
    var allergy=getelementval("check-peanuts");
    var gender=getelementval("male");
    var gender=getelementval("female");
    var gender=getelementval("other");
    var reason=getelementval("reason-select");
    var emergencyname=getelementval("emergency-name");
    var emergencynumber=getelementval("emergency-phone");
    var emergencyrelation=getelementval("emergency-relationship");
    var street1=getelementval("street1");
    var street2=getelementval("street2");
    var country=getelementval("country");
    var city=getelementval("city");
    var region=getelementval("region");
    var postalcode=getelementval("postalcode");

    savemessages(name,emailid,number,birthdate,bloodgroup,diabetes,allergy,gender,reason,emergencyname,emergencynumber,emergencyrelation,street1,street2,country,city,region,postalcode);
    //enable alert
    document.querySelector('.alert').style.display="block";
    //remove the alert
    setTimeout( () => {
    document.querySelector('.alert').style.display="none";
    },3000);
    //   reset the form
  document.getElementById("medvaultform").reset();

    //console.log(name,emailid,number,birthdate,bloodgroup,diabetes,allergy,gender,reason,emergencyname,emergencynumber,emergencyrelation,street1,street2,country,city,region,postalcode)

}

const savemessages=(name,emailid,number,birthdate,bloodgroup,diabetes,allergy,gender,reason,emergencyname,emergencynumber,emergencyrelation,street1,street2,country,city,region,postalcode)=>{
    var newform=medvaultformDB.push();
    
    newform.set({
        name: name,
        emailid: emailid,
        number: number,
        birthdate: birthdate,
        bloodgroup: bloodgroup,
        diabetes: diabetes,
        allergy: allergy,
        gender: gender,
        reason: reason,
        emergencyname: emergencyname,
        emergencynumber: emergencynumber,
        emergencyrelation: emergencyrelation,
        street1: street1,
        street2: street2,
        country: country,
        city: city,
        region: region,
        postalcode: postalcode,
    })
}

const getelementval=(id)=>{
    return document.getElementById(id).value;
};

        </script>
   </body>
</html>
